<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kopi Donowangun - E-Commerce</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: Arial, sans-serif; background-color: #f8f9fa; }
        .product-card { margin-bottom: 20px; }
        .product-img { height: 200px; object-fit: cover; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .summary { background-color: #e9ecef; padding: 20px; border-radius: 5px; }
        .notification { display: none; position: fixed; top: 20px; right: 20px; background-color: #28a745; color: white; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Toko Kopi Donowangun</h1>
        
        <!-- Daftar Produk -->
        <div id="products" class="row">
            <div class="col-md-6">
                <div class="card product-card">
                    <img src="https://via.placeholder.com/300x200?text=Kopi+Donowangun+Heritage" class="card-img-top product-img" alt="Donowangun Heritage Kopi">
                    <div class="card-body">
                        <h5 class="card-title">Donowangun Heritage Kopi</h5>
                        <p class="card-text">Kopi biji utuh premium dari lereng gunung, rasa kuat dan autentik.</p>
                        <p class="card-text"><strong>Harga: Rp 50.000</strong></p>
                        <select class="form-select mb-2" id="variant1">
                            <option value="biji-utuh">Biji Kopi Utuh</option>
                            <option value="bubuk">Kopi Bubuk</option>
                        </select>
                        <button class="btn btn-primary" onclick="addToCart('Donowangun Heritage Kopi', 50000, document.getElementById('variant1').value)">Tambah ke Keranjang</button>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card product-card">
                    <img src="https://via.placeholder.com/300x200?text=Kopi+Donowangun+Lereng" class="card-img-top product-img" alt="Kopi Donowangun Lereng">
                    <div class="card-body">
                        <h5 class="card-title">Kopi Donowangun Lereng</h5>
                        <p class="card-text">Kopi bubuk halus siap seduh, aroma harum dan cita rasa lembut.</p>
                        <p class="card-text"><strong>Harga: Rp 45.000</strong></p>
                        <select class="form-select mb-2" id="variant2">
                            <option value="biji-utuh">Biji Kopi Utuh</option>
                            <option value="bubuk">Kopi Bubuk</option>
                        </select>
                        <button class="btn btn-primary" onclick="addToCart('Kopi Donowangun Lereng', 45000, document.getElementById('variant2').value)">Tambah ke Keranjang</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Keranjang Belanja -->
        <h2 class="mt-5">Keranjang Belanja</h2>
        <div id="cart" class="mb-4"></div>
        <button class="btn btn-success" onclick="showCheckout()">Lanjut ke Checkout</button>
        
        <!-- Checkout Form -->
        <div id="checkout" style="display: none;">
            <h2 class="mt-5">Detail Penerima</h2>
            <form id="checkoutForm">
                <div class="mb-3">
                    <label for="name" class="form-label">Nama Penerima</label>
                    <input type="text" class="form-control" id="name" required>
                </div>
                <div class="mb-3">
                    <label for="phone" class="form-label">Nomor HP</label>
                    <input type="tel" class="form-control" id="phone" required>
                </div>
                <div class="mb-3">
                    <label for="address" class="form-label">Alamat Lengkap</label>
                    <textarea class="form-control" id="address" rows="3" required></textarea>
                </div>
                <h3>Metode Pembayaran</h3>
                <div class="mb-3">
                    <select class="form-select" id="paymentMethod" required>
                        <option value="">Pilih Metode</option>
                        <option value="transfer">Transfer Bank</option>
                        <option value="ewallet">E-Wallet</option>
                        <option value="cod">Cash on Delivery (COD)</option>
                    </select>
                </div>
                <div class="summary">
                    <h4>Ringkasan Pesanan</h4>
                    <div id="orderSummary"></div>
                    <p><strong>Total Pembayaran: Rp <span id="total">0</span> (termasuk ongkos kirim Rp 10.000)</strong></p>
                    <button type="submit" class="btn btn-primary">Buat Pesanan</button>
                </div>
            </form>
        </div>
        
        <!-- Notifikasi -->
        <div id="notification" class="notification">Pesanan berhasil dibuat! Terima kasih.</div>
    </div>

    <script>
        let cart = [];
        const shippingCost = 10000;

        function addToCart(name, price, variant) {
            cart.push({ name, price, variant });
            updateCart();
        }

        function updateCart() {
            const cartDiv = document.getElementById('cart');
            cartDiv.innerHTML = '';
            cart.forEach((item, index) => {
                cartDiv.innerHTML += `<div class="cart-item"><span>${item.name} (${item.variant}) - Rp ${item.price}</span><button class="btn btn-danger btn-sm" onclick="removeFromCart(${index})">Hapus</button></div>`;
            });
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        function showCheckout() {
            if (cart.length === 0) {
                alert('Keranjang kosong!');
                return;
            }
            document.getElementById('products').style.display = 'none';
            document.getElementById('checkout').style.display = 'block';
            updateOrderSummary();
        }

        function updateOrderSummary() {
            const summaryDiv = document.getElementById('orderSummary');
            summaryDiv.innerHTML = '';
            let subtotal = 0;
            cart.forEach(item => {
                summaryDiv.innerHTML += `<p>${item.name} (${item.variant}) - Rp ${item.price}</p>`;
                subtotal += item.price;
            });
            const total = subtotal + shippingCost;
            document.getElementById('total').textContent = total.toLocaleString();
        }

        document.getElementById('checkoutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            // Simulasi pengiriman pesanan
            document.getElementById('notification').style.display = 'block';
            setTimeout(() => {
                document.getElementById('notification').style.display = 'none';
                // Reset aplikasi
                cart = [];
                updateCart();
                document.getElementById('checkout').style.display = 'none';
                document.getElementById('products').style.display = 'block';
                document.getElementById('checkoutForm').reset();
            }, 3000);
        });
    </script>
</body>
</html>